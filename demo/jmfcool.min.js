var jmfcool=jmfcool||{};(jmfcool={formatters:{this:function(t){return"string"!=typeof t&&(t=t.toString()),t},currency:function(t){return"number"==typeof t&&(t=t.toFixed(2)),t}},hook:function(t){return document.getElementsByClassName(t)[0]},model:function(t,o){fetch(t).then(t=>t.json()).then(t=>o(t)).catch(t=>t)},view:function(t,o){fetch(t).then(t=>t.text()).then(t=>o(t)).catch(t=>t)},init:function(){}}).display=function(t){var o,e,n=t.hook,r=t.view,c=t.model;o=jmfcool.hook(n),e=jmfcool.render({view:r,model:c}),o.innerHTML=e},jmfcool.render=function(t){var o=t.view,e=t.model;return jmfcool.template({view:o,model:e})},jmfcool.template=function(t){var o,e,n,r,c,l=t.view,f=t.model;if(c=/\$\{([^}]*)}/g,null===String(l).match(c))return l;o=String(l).match(c),c=/\$\{([^}]*)}/;for(var i=0;i<o.length;i++)e=o[i].match(c)[0],n=o[i].match(c)[1],r=jmfcool.evaluator({model:f,obj:n,type:"tags"}),l=l.replace(e,r);return l},jmfcool.evaluator=function(t){var o,e=t.obj,n=t.model;return"tags"===t.type&&(o=jmfcool.getObject({obj:e,model:n})),o},jmfcool.getObject=function(t){var o,e=t.obj,n=t.model;/\?/.test(e)&&(e=(e=e.split("?"))[0]),o=e.split(".");for(var r=0;r<o.length;r++){if(void 0===(n=n[o[r]]))return"";var c;if(/\?/.test(t.obj))c=t.obj.split("?"),n=jmfcool.getFormatter({checks:c[1]})(n)}return n},jmfcool.getFormatter=function(t){for(var o=t.checks,e=jmfcool.formatters,n=o.split("."),r=0;r<n.length;r++)if(void 0===(e=e[n[r]]))return null;return e},window.addEventListener("load",jmfcool.init,!1);export{jmfcool};